(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{1299:(e,s,a)=>{Promise.resolve().then(a.bind(a,2608))},2608:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),l=a(2115),n=a(544),i=a(5876),r=a(7737),d=a(283);function o(){let{tenant:e,updateTenantConfig:s,isLoading:a}=(0,r.K)(),{user:o}=(0,d.A)(),[c,m]=(0,l.useState)("general"),[x,g]=(0,l.useState)({name:"",email:"",logo:"",theme:"default"}),[u,h]=(0,l.useState)({enabledAgents:[],usageLimits:{apiCalls:1e3,storage:5}}),[p,b]=(0,l.useState)(!1),[f,y]=(0,l.useState)(null),[j,v]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(e){var s,a,t,l,n,i;g({name:e.name||"",email:(null==o?void 0:o.email)||"",logo:(null==(a=e.configuration)||null==(s=a.uiSettings)?void 0:s.logo)||"",theme:(null==(l=e.configuration)||null==(t=l.uiSettings)?void 0:t.theme)||"default"}),h({enabledAgents:(null==(n=e.configuration)?void 0:n.enabledAgents)||[],usageLimits:(null==(i=e.configuration)?void 0:i.usageLimits)||{apiCalls:1e3,storage:5}})}},[e,o]);let N=async e=>{e.preventDefault(),b(!0),y(null),v(null);try{await new Promise(e=>setTimeout(e,1e3)),y("Configuraci\xf3n general guardada correctamente")}catch(e){v(e.message||"Error al guardar la configuraci\xf3n general")}finally{b(!1)}},w=async e=>{e.preventDefault(),b(!0),y(null),v(null);try{await new Promise(e=>setTimeout(e,1e3)),y("Configuraci\xf3n de agentes guardada correctamente")}catch(e){v(e.message||"Error al guardar la configuraci\xf3n de agentes")}finally{b(!1)}},A=e=>{u.enabledAgents.includes(e)?h({...u,enabledAgents:u.enabledAgents.filter(s=>s!==e)}):h({...u,enabledAgents:[...u.enabledAgents,e]})};return(0,t.jsx)(i.A,{children:(0,t.jsx)(n.A,{children:(0,t.jsxs)("div",{className:"py-6",children:[(0,t.jsx)("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 md:px-8",children:(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Configuraci\xf3n"})}),(0,t.jsx)("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 md:px-8",children:(0,t.jsxs)("div",{className:"py-4",children:[(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"flex -mb-px space-x-8",children:[(0,t.jsx)("button",{onClick:()=>m("general"),className:"py-4 text-sm font-medium border-b-2 whitespace-nowrap ".concat("general"===c?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"General"}),(0,t.jsx)("button",{onClick:()=>m("agents"),className:"py-4 text-sm font-medium border-b-2 whitespace-nowrap ".concat("agents"===c?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Agentes"}),(0,t.jsx)("button",{onClick:()=>m("billing"),className:"py-4 text-sm font-medium border-b-2 whitespace-nowrap ".concat("billing"===c?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Facturaci\xf3n"})]})}),f&&(0,t.jsx)("div",{className:"p-4 mt-4 text-sm text-green-700 bg-green-100 rounded-lg",role:"alert",children:f}),j&&(0,t.jsx)("div",{className:"p-4 mt-4 text-sm text-red-700 bg-red-100 rounded-lg",role:"alert",children:j}),"general"===c&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)("form",{onSubmit:N,children:(0,t.jsxs)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[(0,t.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,t.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,t.jsx)("label",{htmlFor:"company-name",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Empresa"}),(0,t.jsx)("input",{type:"text",name:"company-name",id:"company-name",value:x.name,onChange:e=>g({...x,name:e.target.value}),className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("input",{type:"email",name:"email",id:"email",value:x.email,onChange:e=>g({...x,email:e.target.value}),className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{className:"col-span-6",children:[(0,t.jsx)("label",{htmlFor:"logo",className:"block text-sm font-medium text-gray-700",children:"URL del Logo"}),(0,t.jsx)("input",{type:"text",name:"logo",id:"logo",value:x.logo,onChange:e=>g({...x,logo:e.target.value}),className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,t.jsx)("label",{htmlFor:"theme",className:"block text-sm font-medium text-gray-700",children:"Tema"}),(0,t.jsxs)("select",{id:"theme",name:"theme",value:x.theme,onChange:e=>g({...x,theme:e.target.value}),className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,t.jsx)("option",{value:"default",children:"Predeterminado"}),(0,t.jsx)("option",{value:"dark",children:"Oscuro"}),(0,t.jsx)("option",{value:"light",children:"Claro"})]})]})]})}),(0,t.jsx)("div",{className:"px-4 py-3 text-right bg-gray-50 sm:px-6",children:(0,t.jsx)("button",{type:"submit",disabled:p,className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:p?"Guardando...":"Guardar"})})]})})}),"agents"===c&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)("form",{onSubmit:w,children:(0,t.jsxs)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-4 py-5 bg-white sm:p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Agentes Disponibles"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Selecciona los agentes que deseas habilitar para tu empresa."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative flex items-start",children:[(0,t.jsx)("div",{className:"flex items-center h-5",children:(0,t.jsx)("input",{id:"agent-basic",name:"agent-basic",type:"checkbox",checked:u.enabledAgents.includes("basic"),onChange:()=>A("basic"),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),(0,t.jsxs)("div",{className:"ml-3 text-sm",children:[(0,t.jsx)("label",{htmlFor:"agent-basic",className:"font-medium text-gray-700",children:"Asistente B\xe1sico"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Agente de IA para tareas generales y consultas b\xe1sicas."})]})]}),(0,t.jsxs)("div",{className:"relative flex items-start",children:[(0,t.jsx)("div",{className:"flex items-center h-5",children:(0,t.jsx)("input",{id:"agent-customer-service",name:"agent-customer-service",type:"checkbox",checked:u.enabledAgents.includes("customer-service"),onChange:()=>A("customer-service"),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),(0,t.jsxs)("div",{className:"ml-3 text-sm",children:[(0,t.jsx)("label",{htmlFor:"agent-customer-service",className:"font-medium text-gray-700",children:"Asistente de Servicio al Cliente"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Agente especializado en atenci\xf3n al cliente y resoluci\xf3n de problemas."})]})]}),(0,t.jsxs)("div",{className:"relative flex items-start",children:[(0,t.jsx)("div",{className:"flex items-center h-5",children:(0,t.jsx)("input",{id:"agent-sales",name:"agent-sales",type:"checkbox",checked:u.enabledAgents.includes("sales"),onChange:()=>A("sales"),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),(0,t.jsxs)("div",{className:"ml-3 text-sm",children:[(0,t.jsx)("label",{htmlFor:"agent-sales",className:"font-medium text-gray-700",children:"Asistente de Ventas"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Agente especializado en ventas y recomendaciones de productos."})]})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"L\xedmites de Uso"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Configura los l\xedmites de uso para tu empresa."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-6 mt-4",children:[(0,t.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,t.jsx)("label",{htmlFor:"api-calls",className:"block text-sm font-medium text-gray-700",children:"Llamadas API (por mes)"}),(0,t.jsx)("input",{type:"number",name:"api-calls",id:"api-calls",value:u.usageLimits.apiCalls,onChange:e=>h({...u,usageLimits:{...u.usageLimits,apiCalls:parseInt(e.target.value)}}),className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,t.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,t.jsx)("label",{htmlFor:"storage",className:"block text-sm font-medium text-gray-700",children:"Almacenamiento (GB)"}),(0,t.jsx)("input",{type:"number",name:"storage",id:"storage",value:u.usageLimits.storage,onChange:e=>h({...u,usageLimits:{...u.usageLimits,storage:parseInt(e.target.value)}}),className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]}),(0,t.jsx)("div",{className:"px-4 py-3 text-right bg-gray-50 sm:px-6",children:(0,t.jsx)("button",{type:"submit",disabled:p,className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:p?"Guardando...":"Guardar"})})]})})}),"billing"===c&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:(0,t.jsxs)("div",{className:"px-4 py-5 bg-white sm:p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Informaci\xf3n de Facturaci\xf3n"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Detalles de tu plan actual y facturaci\xf3n."})]}),(0,t.jsx)("div",{className:"p-4 mb-6 bg-gray-50 rounded-md",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-base font-medium text-gray-900",children:"Plan Actual"}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:[(null==e?void 0:e.plan)==="BASIC"&&"Plan B\xe1sico",(null==e?void 0:e.plan)==="STANDARD"&&"Plan Est\xe1ndar",(null==e?void 0:e.plan)==="PREMIUM"&&"Plan Premium"]})]}),(0,t.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-indigo-600 bg-white border border-indigo-600 rounded-md hover:bg-indigo-50",children:"Cambiar Plan"})]})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-base font-medium text-gray-900",children:"Historial de Facturaci\xf3n"}),(0,t.jsx)("div",{className:"mt-4 overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Fecha"}),(0,t.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Descripci\xf3n"}),(0,t.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Monto"}),(0,t.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Estado"})]})}),(0,t.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6",children:"01/05/2023"}),(0,t.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 whitespace-nowrap",children:"Plan Premium - Mayo 2023"}),(0,t.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 whitespace-nowrap",children:"$99.99"}),(0,t.jsx)("td",{className:"px-3 py-4 text-sm whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full",children:"Pagado"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6",children:"01/04/2023"}),(0,t.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 whitespace-nowrap",children:"Plan Premium - Abril 2023"}),(0,t.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 whitespace-nowrap",children:"$99.99"}),(0,t.jsx)("td",{className:"px-3 py-4 text-sm whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full",children:"Pagado"})})]})]})]})})]})]})})})]})})]})})})}},5876:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(5155),l=a(2115),n=a(5695),i=a(283);let r=e=>{let{children:s,adminOnly:a=!1}=e,{isAuthenticated:r,isLoading:d,user:o}=(0,i.A)(),c=(0,n.useRouter)();return((0,l.useEffect)(()=>{!d&&(r?a&&(null==o?void 0:o.role)!=="admin"&&c.push("/dashboard"):c.push("/login"))},[r,d,c,a,o]),d)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-t-4 border-gray-200 rounded-full loader border-t-indigo-600 animate-spin"})}):!r||a&&(null==o?void 0:o.role)!=="admin"?null:(0,t.jsx)(t.Fragment,{children:s})}}},e=>{var s=s=>e(e.s=s);e.O(0,[178,874,544,441,684,358],()=>s(1299)),_N_E=e.O()}]);