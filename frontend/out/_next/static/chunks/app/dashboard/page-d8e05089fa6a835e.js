(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1896:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var l=t(5155),a=t(2115),r=t(544),i=t(5876),n=t(283),d=t(7737);let c=(0,t(7126).D)(),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TechnoagentesAPI",[s,t]=(0,a.useState)(!1),[l,r]=(0,a.useState)(null);return{get:async function(s){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return t(!0),r(null),await c.get(e,s,l)}catch(e){throw console.error("Error in GET request to ".concat(s,":"),e),r(e),e}finally{t(!1)}},post:async function(s){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return t(!0),r(null),await c.post(e,s,l)}catch(e){throw console.error("Error in POST request to ".concat(s,":"),e),r(e),e}finally{t(!1)}},put:async function(s){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return t(!0),r(null),await c.put(e,s,l)}catch(e){throw console.error("Error in PUT request to ".concat(s,":"),e),r(e),e}finally{t(!1)}},del:async function(s){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return t(!0),r(null),await c.del(e,s,l)}catch(e){throw console.error("Error in DELETE request to ".concat(s,":"),e),r(e),e}finally{t(!1)}},isLoading:s,error:l}};function o(){let{user:e}=(0,n.A)(),{tenant:s}=(0,d.K)(),{get:t,isLoading:c}=m(),[o,x]=(0,a.useState)({users:0,agents:0,apiCalls:0,storage:0});return(0,a.useEffect)(()=>{(async()=>{try{x({users:5,agents:3,apiCalls:1250,storage:2.5})}catch(e){console.error("Error fetching stats:",e)}})()},[]),(0,l.jsx)(i.A,{children:(0,l.jsx)(r.A,{children:(0,l.jsxs)("div",{className:"py-6",children:[(0,l.jsx)("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 md:px-8",children:(0,l.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"})}),(0,l.jsx)("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 md:px-8",children:(0,l.jsxs)("div",{className:"py-4",children:[(0,l.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow",children:[(0,l.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:["Bienvenido, ",null==e?void 0:e.email]}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:(null==s?void 0:s.name)?"Empresa: ".concat(s.name):"Cargando informaci\xf3n del inquilino..."}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:(null==s?void 0:s.plan)?"Plan: ".concat(s.plan):"Cargando informaci\xf3n del plan..."})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-5 mt-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,l.jsx)("div",{className:"p-5 bg-white rounded-lg shadow",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),(0,l.jsx)("div",{className:"flex-1 w-0 ml-5",children:(0,l.jsxs)("dl",{children:[(0,l.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Usuarios"}),(0,l.jsx)("dd",{children:(0,l.jsx)("div",{className:"text-lg font-medium text-gray-900",children:o.users})})]})})]})}),(0,l.jsx)("div",{className:"p-5 bg-white rounded-lg shadow",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,l.jsx)("div",{className:"flex-1 w-0 ml-5",children:(0,l.jsxs)("dl",{children:[(0,l.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Agentes"}),(0,l.jsx)("dd",{children:(0,l.jsx)("div",{className:"text-lg font-medium text-gray-900",children:o.agents})})]})})]})}),(0,l.jsx)("div",{className:"p-5 bg-white rounded-lg shadow",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})})}),(0,l.jsx)("div",{className:"flex-1 w-0 ml-5",children:(0,l.jsxs)("dl",{children:[(0,l.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Llamadas API"}),(0,l.jsx)("dd",{children:(0,l.jsx)("div",{className:"text-lg font-medium text-gray-900",children:o.apiCalls})})]})})]})}),(0,l.jsx)("div",{className:"p-5 bg-white rounded-lg shadow",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),(0,l.jsx)("div",{className:"flex-1 w-0 ml-5",children:(0,l.jsxs)("dl",{children:[(0,l.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Almacenamiento (GB)"}),(0,l.jsx)("dd",{children:(0,l.jsx)("div",{className:"text-lg font-medium text-gray-900",children:o.storage})})]})})]})})]}),(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Actividad Reciente"}),(0,l.jsx)("div",{className:"mt-4 overflow-hidden bg-white shadow sm:rounded-md",children:(0,l.jsxs)("ul",{className:"divide-y divide-gray-200",children:[(0,l.jsx)("li",{children:(0,l.jsx)("div",{className:"block px-4 py-4 hover:bg-gray-50",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"flex-1 min-w-0 sm:flex sm:items-center sm:justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-indigo-600 truncate",children:"Nuevo usuario creado"}),(0,l.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[(0,l.jsx)("span",{className:"font-medium",children:"Juan P\xe9rez"})," fue agregado como usuario."]})]}),(0,l.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-5",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Hace 2 horas"})})]})})})}),(0,l.jsx)("li",{children:(0,l.jsx)("div",{className:"block px-4 py-4 hover:bg-gray-50",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"flex-1 min-w-0 sm:flex sm:items-center sm:justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-indigo-600 truncate",children:"Configuraci\xf3n actualizada"}),(0,l.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Se actualiz\xf3 la configuraci\xf3n del agente ",(0,l.jsx)("span",{className:"font-medium",children:"Asistente Virtual"}),"."]})]}),(0,l.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-5",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Ayer"})})]})})})}),(0,l.jsx)("li",{children:(0,l.jsx)("div",{className:"block px-4 py-4 hover:bg-gray-50",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"flex-1 min-w-0 sm:flex sm:items-center sm:justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-indigo-600 truncate",children:"Plan actualizado"}),(0,l.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["El plan fue actualizado a ",(0,l.jsx)("span",{className:"font-medium",children:"Premium"}),"."]})]}),(0,l.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-5",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Hace 3 d\xedas"})})]})})})})]})})]})]})})]})})})}},5876:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var l=t(5155),a=t(2115),r=t(5695),i=t(283);let n=e=>{let{children:s,adminOnly:t=!1}=e,{isAuthenticated:n,isLoading:d,user:c}=(0,i.A)(),m=(0,r.useRouter)();return((0,a.useEffect)(()=>{!d&&(n?t&&(null==c?void 0:c.role)!=="admin"&&m.push("/dashboard"):m.push("/login"))},[n,d,m,t,c]),d)?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsx)("div",{className:"w-12 h-12 border-4 border-t-4 border-gray-200 rounded-full loader border-t-indigo-600 animate-spin"})}):!n||t&&(null==c?void 0:c.role)!=="admin"?null:(0,l.jsx)(l.Fragment,{children:s})}},8156:(e,s,t)=>{Promise.resolve().then(t.bind(t,1896))}},e=>{var s=s=>e(e.s=s);e.O(0,[178,874,544,441,684,358],()=>s(8156)),_N_E=e.O()}]);